interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      If-Match:
      - '*'
      User-Agent:
      - OpenAPI-Generator/v1/python
    method: GET
    uri: https://api.partner.microsoft.com/v1.0/ingestion/products?%24filter=externalIDs%2FAny%28i%3Ai%2Ftype+eq+%27AzureOfferId%27+and+i%2Fvalue+eq+%27clitest000001%27%29
  response:
    body:
      string: '{"value":[{"resourceType":"AzureThirdPartyVirtualMachine","name":"clitest000001
        Alias","externalIDs":[{"type":"AzureOfferId","value":"clitest000001"}],"isModularPublishing":true,"id":"bcfe0fa0-6664-4614-980d-0f2155fcc9ba"}]}'
    headers:
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Apr 2025 20:42:09 GMT
      request-id:
      - d7b738c6-d637-4ba8-969c-ad8ad3024a7f
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-azure-ref:
      - 20250417T204210Z-15bd8fcd597r4kpchC1BL1qqd400000009c000000000z0dv
      x-cache:
      - CONFIG_NOCACHE
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      If-Match:
      - '*'
      User-Agent:
      - OpenAPI-Generator/v1/python
    method: GET
    uri: https://api.partner.microsoft.com/v1.0/ingestion/products?%24filter=externalIDs%2FAny%28i%3Ai%2Ftype+eq+%27AzureOfferId%27+and+i%2Fvalue+eq+%27clitest000001%27%29
  response:
    body:
      string: '{"value":[{"resourceType":"AzureThirdPartyVirtualMachine","name":"clitest000001
        Alias","externalIDs":[{"type":"AzureOfferId","value":"clitest000001"}],"isModularPublishing":true,"id":"bcfe0fa0-6664-4614-980d-0f2155fcc9ba"}]}'
    headers:
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Apr 2025 20:42:11 GMT
      request-id:
      - edb63744-ccfb-476f-b48d-f5aadee7b682
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-azure-ref:
      - 20250417T204210Z-15bd8fcd597r4kpchC1BL1qqd400000009c000000000z0ms
      x-cache:
      - CONFIG_NOCACHE
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      If-Match:
      - '*'
      User-Agent:
      - OpenAPI-Generator/v1/python
    method: GET
    uri: https://api.partner.microsoft.com/v1.0/ingestion/products/bcfe0fa0-6664-4614-980d-0f2155fcc9ba/setup
  response:
    body:
      string: '{"resourceType":"AzureProductSetup","sellingOption":"ListAndSell","trialUri":"","enableTestDrive":false,"channelStates":[{"type":"Reseller","value":"Disabled"}]}'
    headers:
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Apr 2025 20:42:11 GMT
      request-id:
      - add34b2a-1b14-4119-ab59-8749c31294e9
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-azure-ref:
      - 20250417T204211Z-15bd8fcd597r4kpchC1BL1qqd400000009c000000000z0tg
      x-cache:
      - CONFIG_NOCACHE
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      If-Match:
      - '*'
      User-Agent:
      - OpenAPI-Generator/v1/python
    method: GET
    uri: https://api.partner.microsoft.com/v1.0/ingestion/products?%24filter=externalIDs%2FAny%28i%3Ai%2Ftype+eq+%27AzureOfferId%27+and+i%2Fvalue+eq+%27clitest000001%27%29
  response:
    body:
      string: '{"value":[{"resourceType":"AzureThirdPartyVirtualMachine","name":"clitest000001
        Alias","externalIDs":[{"type":"AzureOfferId","value":"clitest000001"}],"isModularPublishing":true,"id":"bcfe0fa0-6664-4614-980d-0f2155fcc9ba"}]}'
    headers:
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Apr 2025 20:42:11 GMT
      request-id:
      - d1c982cd-365f-4d3e-91b3-a3c50540e565
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-azure-ref:
      - 20250417T204211Z-16b6fd4df7628jlzhC1BL1p2qn000000064000000000h898
      x-cache:
      - CONFIG_NOCACHE
    status:
      code: 200
      message: OK
- request:
    body: '{"resourceType": "AzureProductSetup", "enableTestDrive": true, "sellingOption":
      "ListAndSell", "trialUri": "", "channelStates": [{"type": "Reseller", "value":
      "Disabled"}], "testDriveType": "AzureResourceManager"}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      If-Match:
      - '*'
      User-Agent:
      - OpenAPI-Generator/v1/python
    method: POST
    uri: https://api.partner.microsoft.com/v1.0/ingestion/products/bcfe0fa0-6664-4614-980d-0f2155fcc9ba/setup
  response:
    body:
      string: '"ICH50400 - Unable to complete request. {\"faultCode\":50400,\"reasonPhrase\":\"Request
        validation failed.\",\"correlationId\":\"a68d7afe-2907-4a48-8c1f-41cef9b4298b\",\"operationId\":\"7b0ab43db880de59fe70ee7ae93a95f9\",\"data\":{\"FeatureName\":[\"The
        field FeatureName is invalid.\"]}}"'
    headers:
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Apr 2025 20:42:12 GMT
      request-id:
      - 4e9d698a-0637-4882-943f-1303759d4105
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-azure-ref:
      - 20250417T204211Z-16b6fd4df7628jlzhC1BL1p2qn000000064000000000h8cb
      x-cache:
      - CONFIG_NOCACHE
    status:
      code: 400
      message: Bad Request
version: 1
